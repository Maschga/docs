asyncapi: 3.0.0
info:
  title: evcc MQTT-API
  version: latest
servers:
  evcc:
    host: "{IP}:{PORT}"
    protocol: mqtt
    description: Your setup mqtt server - most common a [Eclipse Mosquitto](https://mosquitto.org/) instance.
    variables:
      IP:
        default: 192.168.XXX.XXX
      PORT:
        default: "1883"
operations:
  status:
    action: receive
    channel:
      address: evcc/status
      messages:
        status:
          payload:
            type: string
            enum:
              - online
    tags:
      - $ref: "#/components/tags/general"
  updated:
    action: receive
    channel:
      address: evcc/updated
      messages:
        status:
          payload:
            type: integer
    tags:
      - $ref: "#/components/tags/general"
components:
  # messages:
  #     status:
  tags:
    general:
      name: General
    site:
      name: Site
    loadpoints:
      name: Loadpoints
    vehicles:
      name: Vehicles