asyncapi: 3.0.0
info:
  title: evcc MQTT-API
  version: latest
operations:
  receiveLoadpointMode:
    description: TODO
    action: receive
    channel:
      address: evcc/loadpoint/{id}/mode
      parameters:
        id:
          $ref: "#/components/parameters/id"
      messages:
        mode:
          $ref: "#/components/messages/mode"
    tags:
      - $ref: "#/components/tags/loadpoints"
  sendLoadpointMode:
    description: TODO
    action: send
    channel:
      address: evcc/loadpoint/{id}/mode/set
      parameters:
        id:
          $ref: "#/components/parameters/id"
      messages:
        mode:
          $ref: "#/components/messages/mode"
    tags:
      - $ref: "#/components/tags/loadpoints"
  receiveStatus:
    description: TODO
    action: receive
    channel:
      address: evcc/status
      messages:
        status:
          payload:
            type: string
            enum:
              - online
    tags:
      - $ref: "#/components/tags/general"
  receiveUpdated:
    description: TODO
    action: receive
    channel:
      address: evcc/updated
      messages:
        status:
          description: TODO
          payload:
            type: integer
            example: 1740512847
    tags:
      - $ref: "#/components/tags/general"
components:
  messages:
    mode:
      description: Charging mode. [Read more.](/en/docs/reference/configuration/loadpoints#mode)
      payload:
        type: string
        enum:
          - off
          - pv
          - minpv
          - now
  parameters:
    id:
      description: The index. Starts with 1.
      examples:
        - "1"
        - "2"
        - "5"
  tags:
    general:
      name: General
    loadpoints:
      name: Loadpoints
    vehicles:
      name: Vehicles
    site:
      name: Site
